function isLoggedIn() {return localStorage.getItem('etax_logged_in') === 'true'} function setLoggedIn(value) {localStorage.setItem('etax_logged_in',value ? 'true' :'false')} function setUserInfo(userData) {localStorage.setItem('etax_user_info',JSON.stringify(userData))} function getUserInfo() {const userInfo = localStorage.getItem('etax_user_info');return userInfo ? JSON.parse(userInfo) :null} function logout() {localStorage.removeItem('etax_logged_in');localStorage.removeItem('etax_user_info');window.location.href = 'login.html'} function validateLogin(username,password) {const validCredentials = [ {username:'admin',password:'admin123',name:'Administrator' },{username:'user1',password:'user123',name:'Người dùng 1' },{username:'demo',password:'demo123',name:'Demo User' } ];const user = validCredentials.find(cred => cred.username === username && cred.password === password );return user ? {success:true,user:user } :{success:false,message:'Sai tên đăng nhập hoặc mật khẩu' }} function checkAuthentication() {if (!isLoggedIn()) {if (!window.location.pathname.includes('login.html')) {window.location.href = 'login.html'} } else {if (window.location.pathname.includes('login.html')) {window.location.href = 'index.html'} } } document.addEventListener('DOMContentLoaded',function () {checkAuthentication()});window.auth = {isLoggedIn,setLoggedIn,setUserInfo,getUserInfo,logout,validateLogin,checkAuthentication };